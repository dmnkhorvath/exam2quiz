event_loop:
  prompt_file: PROMPT.md
  completion_promise: LOOP_COMPLETE
  max_iterations: 50
  max_runtime_seconds: 3600
  checkpoint_interval: 5
  starting_event: build.task
cli:
  backend: claude
core:
  specs_dir: ./specs/
hats:
  builder:
    name: Builder
    description: Implements one task with quality gates. One task, one commit.
    triggers:
      - build.task
    publishes:
      - build.done
      - build.blocked
    default_publishes: build.done
    instructions: |
      ## BUILDER MODE

      You're building, not planning. One task, then exit.

      ### Process: Explore → Plan → Implement → Commit

      1. **EXPLORE** — Understand before changing
         - Pick ONE task (highest priority from task list)
         - Read relevant files and understand current implementation
         - Search for similar patterns in the codebase
         - Identify integration points and dependencies

      2. **PLAN** — Think before coding
         - Outline the specific changes needed
         - Identify files to create/modify
         - Consider edge cases and error handling

      3. **IMPLEMENT** — Execute the plan
         - Write the code following existing patterns
         - Run verification: `cargo check && cargo test && cargo clippy -- -D warnings`
         - Must pass before proceeding

      4. **COMMIT** — Document the change
         - One task, one commit
         - Publish event with evidence

      ### DON'T
      - ❌ Decide what tasks to add
      - ❌ Output the completion promise
      - ❌ Skip the explore step
      - ❌ Skip tests
  reviewer:
    name: Reviewer
    description: Reviews implementation for quality. Does NOT modify code.
    triggers:
      - review.request
    publishes:
      - review.approved
      - review.changes_requested
    default_publishes: review.approved
    instructions: |
      ## REVIEWER MODE

      Review the most recent implementation for quality.

      ### Checklist
      - [ ] **Correctness:** Does it match the spec/task requirements?
      - [ ] **Tests:** Are there tests? Do they cover edge cases?
      - [ ] **Patterns:** Does it follow existing codebase patterns?
      - [ ] **Errors:** Is error handling appropriate?
      - [ ] **Security:** Any obvious vulnerabilities?

      ### DON'T
      - ❌ Make code changes yourself
      - ❌ Be vague about what's wrong
      - ❌ Block on style nitpicks
tasks:
  enabled: true
memories:
  enabled: true
  inject: auto
  budget: 2000
  filter:
    types: []
    tags: []
    recent: 0
features:
  parallel: true
  auto_merge: true
skills:
  enabled: true
  dirs:
    - .claude/skills
  overrides:
    ralph-operations:
      auto_inject: true
RObot:
  enabled: false
  timeout_seconds: 120
events:
  build.task:
    description: "Event: build.task"
  build.done:
    description: "Event: build.done"
  build.blocked:
    description: "Event: build.blocked"
  review.request:
    description: "Event: review.request"
  review.approved:
    description: "Event: review.approved"
  review.changes_requested:
    description: "Event: review.changes_requested"
